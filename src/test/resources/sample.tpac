#! clmap
#> map:const
#>> args
	String time
	String name
#>> closure
	greet = clmap.solvePath('config:messages').config().greeting[time]
	title = clmap.solvePath('data:title').dflt[titleMap[name]]
	return "${greet}, ${title}${name}."
#>> data:title
Mr.
Mrs.
Ms.
#>> config:messages
greeting {
	morning = 'Good morning'
	noon = 'Hello'
	night = 'Good night'
}
#> map
#>> args
	String name
#>> prefix
	String message
#>> suffix
#-noon
	message = message.toUpperCase()
#>> closure:morning
	message = clmap.cl('/_/const#_').call('morning', name)
#>> closure:noon
	message = clmap.cl('/_/const#_').call('noon', name)
#>> closure:night
	message = clmap.cl('/_/const#_').call('night', name)
#>> return
	message
